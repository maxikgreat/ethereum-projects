{"version":3,"file":"static/webpack/static/development/pages/campaigns/new.js.f3f1e0955c7664e4931d.hot-update.js","sources":["webpack:///./pages/campaigns/new.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {Form, Button, Input, Message} from 'semantic-ui-react';\nimport {Layout} from '../../components/Layout';\nimport {factory} from '../../ethereum/factory';\nimport web3 from '../../ethereum/web3';\n\nexport default class CampaignNew extends Component {\n    state = {\n        minimumContribution: '',\n        errorMessage: '',\n        loading: false\n    }\n\n    onCreateCampaign = async (e) => {\n        e.preventDefault();\n        \n        this.setState({\n            errorMessage: '',\n            loading: true\n        });\n\n        try{\n            const accounts = await web3.eth.getAccounts();\n            await factory.methods.createCampaign(this.state.minimumContribution)\n                .send({\n                    from: accounts[0]\n                })\n        } catch(e) {\n            this.setState({\n                errorMessage: e.message\n            })\n        }\n\n        this.setState({loading: false});\n    }\n\n    render(){\n        console.log(this.state.errorMessage);\n        return(\n            <Layout>\n                <h2 className=\"ui header\">Create a Campaign</h2>\n                <Form onSubmit={this.onCreateCampaign} error={!!this.state.errorMessage}>\n                    <Form.Field>\n                        <label>Minimum Contribution</label>\n                        <Input \n                            label=\"wei\" \n                            labelPosition=\"right\"\n                            value={this.state.minimumContribution}\n                            onChange={e => this.setState({\n                                minimumContribution: e.target.value\n                            })}\n                        />\n                    </Form.Field>\n                    <Message \n                        error\n                        header=\"Ooops!\"\n                        content={this.state.errorMesxsage}\n                    />\n                    <Button \n                        disabled={this.state.loading} \n                        loading={this.state.loading} \n                        primary\n                    >Create!</Button>\n                </Form>\n            </Layout>   \n        )\n    }\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAJA;AAAA;AAAA;AACA;AADA;AASA;AATA;AAAA;AAYA;AADA;AACA;AAZA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAcA;AACA;AADA;AACA;AAhBA;AAoBA;AAAA;AAAA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAsBA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AA5DA;AACA;AADA;AA6DA;;;;A","sourceRoot":""}